# Лабораторная работа №3. Синхронизация потоков

В качестве примера дано приложение, эмулирующее работу банка. Клиенты периодически изменяют свой баланс методом UpdateClientBalance, в котором между считыванием общего баланса и записью обновленного значения выполняются длительные операции.

## Задание:

Написать класс (на языке c#), реализующий следующий интерфейс:

public interface ICriticalSection

{

//Вход в критическую секцию

void Enter();

//Вход в критическую секцию (timeout – таймаут в мс). Если произошел вход в критическую секцию, то возвращается - true. Если произошел выход по таймауту, то false

bool TryEnter(int timeout);

//Устанавливается количество попыток входа в критическую секцию в методе Enter перед блокированием потока

void SetSpinCount(int count);

//Выход из критической секции

void Leave();

}

Данный класс должен реализовать критическую секцию с использованием одного из следующих объектов (по вариантам):

2 вариант - System.Threading.Interlocked

Для демонстрации работы необходимо написать программу вычисления числа π методом численного интегрирования как описано в: https://habr.com/ru/post/147796/.